<h3>Delivery Information</h3>
<div [formGroup]="formGroup" *ngIf="!isArrayForm">
  <div [formGroupName]="groupName">
    <div>
      <label>Vessel</label>
      <input type="text" formControlName="vessel" name="vessel"/>
    </div>

    <div>
      <label>Imo</label>
      <input type="text" formControlName="imo" name="imo"/>
    </div>

    <div>
      <label>Flag</label>
      <input type="text" formControlName="flag" name="flag"/>
    </div>

    <div>
      <label>Master</label>
      <input type="text" formControlName="master" name="master"/>
    </div>
  </div>
</div>


<div [formGroup]="formGroup" *ngIf="isArrayForm">
  <div [formArrayName]="arrayName">
    <div *ngFor="let ship of formGroup.controls[arrayName].controls; let i=index">
      <h4>Ship {{ i + 1}}</h4>
      <div [formGroupName]="i">
        <div>
          <label>Vessel</label>
          <input type="text" formControlName="vessel" name="vessel"/>
        </div>

        <div>
          <label>Imo</label>
          <input type="text" formControlName="imo" name="imo"/>
        </div>

        <div>
          <label>Flag</label>
          <input type="text" formControlName="flag" name="flag"/>
        </div>

        <div>
          <label>Master</label>
          <input type="text" formControlName="master" name="master"/>
        </div>
      </div>
      <button *ngIf="formGroup.controls[arrayName].controls.length > 1"
            (click)="removeShip(i)">remove ship
                </button>
    </div>
  </div>
  <button
    (click)="addShip()">add ship
  </button>
</div>
